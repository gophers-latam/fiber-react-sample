(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},73:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(20),s=n.n(r),i=(n(45),n(46),n(6)),l=n(8),o=(n(47),n(2)),j=n.n(o),u=n(15),b=n(5),d=n(3),m=n(4),O=n.n(m),h=n(14),x=n(17),p=n(23),f=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(x.a)(this,e),this.role_id=t,this.name=n},v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new f;Object(x.a)(this,e),this.user_id=t,this.first_name=n,this.last_name=c,this.email=a,this.role=r}return Object(p.a)(e,[{key:"name",get:function(){return this.first_name+" "+this.last_name}}]),e}(),g=function(e){return{type:"SET_USER",user:e}},N=n(0),w=function(){return Object(N.jsx)("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",children:Object(N.jsx)("div",{className:"position-sticky pt-3",children:Object(N.jsxs)("ul",{className:"nav flex-column",children:[Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(i.c,{className:"nav-link",to:"/",exact:!0,children:"Dashboard"})}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(i.c,{className:"nav-link",to:"/users",children:"Users"})}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(i.c,{className:"nav-link",to:"/roles",children:"Roles"})}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(i.c,{className:"nav-link",to:"/products",children:"Products"})}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(i.c,{className:"nav-link",to:"/orders",children:"Orders"})})]})})})},S=Object(h.b)((function(e){return{user:e.user}}))((function(e){var t=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("logout",{});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=e.user;return Object(N.jsxs)("nav",{className:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow",children:[Object(N.jsx)("a",{className:"navbar-brand col-md-3 col-lg-2 mr-0 px-3",href:"/",children:"Vapor - cyberpunk theme"}),Object(N.jsxs)("ul",{className:"my-2 my-md-0 mr-md-3",children:[Object(N.jsx)(i.c,{to:"/profile",className:"p-2 text-white text-decoration-none",children:Object(N.jsx)("b",{children:n.name})}),Object(N.jsx)(i.c,{to:"/login",className:"p-2 text-white text-decoration-none",onClick:t,children:"Log out"})]})]})})),y=Object(h.b)((function(e){return{user:e.user}}),(function(e){return{setUser:function(t){return e(g(t))}}}))((function(e){var t=Object(c.useState)(!1),n=Object(d.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){Object(b.a)(j.a.mark((function t(){var n,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.get("user");case 3:n=t.sent,c=n.data,e.setUser(new v(c.user_id,c.first_name,c.last_name,c.email,c.role)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r(!0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}),[]),a?Object(N.jsx)(l.a,{to:"/login"}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(S,{}),Object(N.jsx)("div",{className:"container-fluid",children:Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)(w,{}),Object(N.jsx)("main",{className:"col-md-9 ms-sm-auto col-lg-10 px-md-4",children:e.children})]})})]})})),_=n(37),k=function(){return Object(c.useEffect)((function(){Object(b.a)(j.a.mark((function e(){var t,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=_.generate({bindto:"#chart",data:{x:"x",xFormat:"%d-%m-%Y",columns:[["x"],["Sales"]],types:{Sales:"bar"}},axis:{x:{type:"timeseries",tick:{format:"%d-%m-%Y"}}}}),e.next=3,O.a.get("chart-sales");case 3:n=e.sent,c=n.data,t.load({columns:[["x"].concat(Object(u.a)(c.map((function(e){return e.date})))),["Sales"].concat(Object(u.a)(c.map((function(e){return e.sum}))))]});case 6:case"end":return e.stop()}}),e)})))()}),[]),Object(N.jsxs)(y,{children:[Object(N.jsx)("h2",{children:"Daily Sales"}),Object(N.jsx)("div",{id:"chart"})]})},C=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(d.a)(r,2),o=s[0],u=s[1],m=Object(c.useState)(!1),h=Object(d.a)(m,2),x=h[0],p=h[1],f=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,O.a.post("login",{email:n,password:o});case 3:201===e.sent.status&&p(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return x?Object(N.jsx)(l.a,{to:"/"}):Object(N.jsx)("main",{className:"form-signin",children:Object(N.jsxs)("form",{onSubmit:f,children:[Object(N.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Please login"}),Object(N.jsx)("input",{type:"email",className:"form-control",placeholder:"name@example.com",onChange:function(e){return a(e.target.value)}}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{type:"password",className:"form-control",placeholder:"Password",onChange:function(e){return u(e.target.value)}}),Object(N.jsx)("br",{}),Object(N.jsx)("button",{className:"w-100 btn btn-lg btn-primary",type:"submit",children:"Submit"}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsxs)(i.b,{to:"/register",children:["I do not have an account, ",Object(N.jsx)("b",{children:"register"}),"."]})]})})},E=function(e){return Object(N.jsx)("nav",{children:Object(N.jsxs)("ul",{className:"pagination",children:[Object(N.jsx)("li",{className:"page-item",children:Object(N.jsx)("a",{href:"#",className:"page-link",onClick:function(){e.page>=1&&e.pageChanged(e.page-1)},children:"Previous"})}),Object(N.jsx)("li",{className:"page-item",children:Object(N.jsx)("a",{href:"#",className:"page-link",onClick:function(){e.page<e.lastPage&&e.pageChanged(e.page+1)},children:"Next"})})]})})},P={maxHeight:0,transition:"1000ms ease-in"},D={maxHeight:"150px",transition:"1000ms ease-out"},F=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(1),s=Object(d.a)(r,2),i=s[0],l=s[1],o=Object(c.useState)(0),u=Object(d.a)(o,2),m=u[0],h=u[1],x=Object(c.useState)(0),p=Object(d.a)(x,2),f=p[0],v=p[1];Object(c.useEffect)((function(){Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("orders?page=".concat(i));case 2:t=e.sent,n=t.data,a(n.data),h(n.meta.last_page);case 6:case"end":return e.stop()}}),e)})))()}),[i]);var g=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("export-orders",{},{responseType:"blob"});case 2:t=e.sent,n=t.data,new Blob([n],{type:"text/csv"}),c=window.URL.createObjectURL(n),(a=document.createElement("a")).href=c,a.download="orders.csv",a.click();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)(y,{children:[Object(N.jsx)("div",{className:"pt-3 pb-2 mb-3 border-bottom",children:Object(N.jsx)("a",{href:"#",className:"btn btn-sm btn-outline-secondary",onClick:g,children:"Export"})}),Object(N.jsx)("div",{className:"table-responsive",children:Object(N.jsxs)("table",{className:"table table-sm",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"#"}),Object(N.jsx)("th",{children:"Name"}),Object(N.jsx)("th",{children:"Email"}),Object(N.jsx)("th",{children:"Total"}),Object(N.jsx)("th",{children:"Action"})]})}),Object(N.jsx)("tbody",{children:n.map((function(e){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:e.id}),Object(N.jsx)("td",{children:e.name}),Object(N.jsx)("td",{children:e.email}),Object(N.jsx)("td",{children:e.total}),Object(N.jsx)("td",{children:Object(N.jsx)("a",{href:"#",className:"btn btn-sm btn-outline-secondary",onClick:function(){return t=e.id,void v(f!==t?t:0);var t},children:"View"})})]},e.id.toString()+"a"),Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:5,children:Object(N.jsx)("div",{className:"overflow-hidden",style:f===e.id?D:P,children:Object(N.jsxs)("table",{className:"table table-sm",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"#"}),Object(N.jsx)("th",{children:"Product Title"}),Object(N.jsx)("th",{children:"Quantity"}),Object(N.jsx)("th",{children:"Price"})]})}),Object(N.jsx)("tbody",{children:e.order_items.map((function(e){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:e.id}),Object(N.jsx)("td",{children:e.product_title}),Object(N.jsx)("td",{children:e.quantity}),Object(N.jsx)("td",{children:e.price})]},e.id.toString()+"c")}))})]})})})},e.id.toString()+"b")]})}))})]})}),Object(N.jsx)(E,{page:i,lastPage:m,pageChanged:l})]})},V=function(e){var t=function(){var t=Object(b.a)(j.a.mark((function t(n){var c,a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==n){t.next=2;break}return t.abrupt("return");case 2:return(c=new FormData).append("image",n[0]),t.next=6,O.a.post("upload-image",c);case 6:a=t.sent,r=a.data,e.uploaded(r.url);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(N.jsxs)("label",{className:"btn btn-primary",children:["Upload ",Object(N.jsx)("input",{type:"file",hidden:!0,onChange:function(e){return t(e.target.files)}})]})},U=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(d.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)(""),m=Object(d.a)(u,2),h=m[0],x=m[1],p=Object(c.useState)(0),f=Object(d.a)(p,2),v=f[0],g=f[1],w=Object(c.useState)(!1),S=Object(d.a)(w,2),_=S[0],k=S[1],C=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,O.a.post("create-product",{title:n,description:i,image:h,price:v});case 3:201===e.sent.status&&k(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return _?Object(N.jsx)(l.a,{to:"/products"}):Object(N.jsx)(y,{children:Object(N.jsxs)("form",{onSubmit:C,children:[Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Title"}),Object(N.jsx)("input",{className:"form-control",onChange:function(e){return a(e.target.value)}})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Description"}),Object(N.jsx)("textarea",{className:"form-control",onChange:function(e){return o(e.target.value)}})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Image"}),Object(N.jsxs)("div",{className:"input-group",children:[Object(N.jsx)("input",{className:"form-control",value:h,onChange:function(e){return x(e.target.value)}}),Object(N.jsx)(V,{uploaded:x})]})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Price"}),Object(N.jsx)("input",{type:"number",className:"form-control",onChange:function(e){return g(Number(e.target.value))}})]}),Object(N.jsx)("button",{className:"btn btn-outline-secondary",children:"Save"})]})})},L=function(e){var t=Object(c.useState)(""),n=Object(d.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),i=Object(d.a)(s,2),o=i[0],u=i[1],m=Object(c.useState)(""),h=Object(d.a)(m,2),x=h[0],p=h[1],f=Object(c.useState)(0),v=Object(d.a)(f,2),g=v[0],w=v[1],S=Object(c.useState)(!1),_=Object(d.a)(S,2),k=_[0],C=_[1],E=Object(c.useRef)(null);Object(c.useEffect)((function(){Object(b.a)(j.a.mark((function t(){var n,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("get-product/".concat(e.match.params.id));case 2:n=t.sent,c=n.data,r(c.title),u(c.description),p(c.image),w(c.price),console.log(c);case 9:case"end":return t.stop()}}),t)})))()}),[]);var P=function(){var t=Object(b.a)(j.a.mark((function t(n){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c=Number(e.match.params.id),t.next=4,O.a.put("update-product",{product_id:c,title:a,description:o,image:x,price:g});case 4:201===t.sent.status&&C(!0);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return k?Object(N.jsx)(l.a,{to:"/products"}):Object(N.jsx)(y,{children:Object(N.jsxs)("form",{onSubmit:P,children:[Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Title"}),Object(N.jsx)("input",{className:"form-control",defaultValue:a,onChange:function(e){return r(e.target.value)}})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Description"}),Object(N.jsx)("textarea",{className:"form-control",defaultValue:o,onChange:function(e){return u(e.target.value)}})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Image"}),Object(N.jsxs)("div",{className:"input-group",children:[Object(N.jsx)("input",{className:"form-control",ref:E,defaultValue:x,onChange:function(e){return p(e.target.value)}}),Object(N.jsx)(V,{uploaded:function(e){E.current&&(E.current.value=e),p(e)}})]})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Price"}),Object(N.jsx)("input",{type:"number",className:"form-control",value:g,onChange:function(e){return w(Number(e.target.value))}})]}),Object(N.jsx)("button",{className:"btn btn-outline-secondary",children:"Save"})]})})},R=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(1),s=Object(d.a)(r,2),l=s[0],o=s[1],u=Object(c.useState)(0),m=Object(d.a)(u,2),h=m[0],x=m[1];Object(c.useEffect)((function(){Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("products?page=".concat(l));case 2:t=e.sent,n=t.data,a(n.data),x(n.meta.last_page);case 6:case"end":return e.stop()}}),e)})))()}),[l]);var p=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("You want to delete this record?")){e.next=4;break}return e.next=3,O.a.delete("delete-product/".concat(t));case 3:a(n.filter((function(e){return e.product_id!==t})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(y,{children:[Object(N.jsx)("div",{className:"pt-3 pb-2 mb-3 border-bottom",children:Object(N.jsx)(i.b,{to:"/products/create",className:"btn btn-sm btn-outline-secondary",children:"Create"})}),Object(N.jsx)("div",{className:"table-responsive",children:Object(N.jsxs)("table",{className:"table table-striped table-sm",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"#"}),Object(N.jsx)("th",{children:"Image"}),Object(N.jsx)("th",{children:"Title"}),Object(N.jsx)("th",{children:"Description"}),Object(N.jsx)("th",{children:"Price"}),Object(N.jsx)("th",{children:"Action"})]})}),Object(N.jsx)("tbody",{children:n.map((function(e){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:e.product_id}),Object(N.jsx)("td",{children:Object(N.jsx)("img",{src:e.image,width:"50"})}),Object(N.jsx)("td",{children:e.title}),Object(N.jsx)("td",{children:e.description}),Object(N.jsx)("td",{children:e.price}),Object(N.jsxs)("td",{children:[Object(N.jsx)("div",{className:"btn-group mr-2",children:Object(N.jsx)(i.b,{to:"/products/".concat(e.product_id,"/edit"),className:"btn btn-sm btn-outline-secondary",children:"Edit"})}),"\xa0",Object(N.jsx)("div",{className:"btn-group mr-2",children:Object(N.jsx)("a",{href:"#",className:"btn btn-sm btn-outline-secondary",onClick:function(){return p(e.product_id)},children:"Delete"})})]})]},e.product_id)}))})]})}),Object(N.jsx)(E,{page:l,lastPage:h,pageChanged:o})]})},T=Object(h.b)((function(e){return{user:e.user}}),(function(e){return{setUser:function(t){return e(g(t))}}}))((function(e){var t=Object(c.useState)(""),n=Object(d.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),i=Object(d.a)(s,2),l=i[0],o=i[1],u=Object(c.useState)(""),m=Object(d.a)(u,2),h=m[0],x=m[1],p=Object(c.useState)(""),f=Object(d.a)(p,2),g=f[0],w=f[1],S=Object(c.useState)(""),_=Object(d.a)(S,2),k=_[0],C=_[1];Object(c.useEffect)((function(){r(e.user.first_name),o(e.user.last_name),x(e.user.email)}),[e.user]);var E=function(){var t=Object(b.a)(j.a.mark((function t(n){var c,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,O.a.put("/update-profile",{first_name:a,last_name:l,email:h});case 3:c=t.sent,r=c.data,e.setUser(new v(r.user_id,r.first_name,r.last_name,r.email,r.role));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,O.a.put("/update-password",{password:g,password_confirm:k});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(y,{children:[Object(N.jsx)("h3",{children:"Account Information"}),Object(N.jsxs)("form",{onSubmit:E,children:[Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"First Name"}),Object(N.jsx)("input",{className:"form-control",defaultValue:a,onChange:function(e){return r(e.target.value)}})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Last Name"}),Object(N.jsx)("input",{className:"form-control",defaultValue:l,onChange:function(e){return o(e.target.value)}})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Email"}),Object(N.jsx)("input",{className:"form-control",defaultValue:h,onChange:function(e){return x(e.target.value)}})]}),Object(N.jsx)("button",{className:"btn btn-outline-secondary",children:"Save"})]}),Object(N.jsx)("h3",{className:"mt-4",children:"Change Password"}),Object(N.jsxs)("form",{onSubmit:P,children:[Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Password"}),Object(N.jsx)("input",{type:"password",className:"form-control",onChange:function(e){return w(e.target.value)}})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Password Confirm"}),Object(N.jsx)("input",{type:"password",className:"form-control",onChange:function(e){return C(e.target.value)}})]}),Object(N.jsx)("button",{className:"btn btn-outline-secondary",children:"Save"})]})]})})),I=n(40),A=n(38),Y=(n(73),function(e){Object(I.a)(n,e);var t=Object(A.a)(n);function n(){var e;Object(x.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).first_name="",e.last_name="",e.email="",e.password="",e.password_confirm="",e.state={redirect:!1},e.submit=function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,O.a.post("register",{first_name:e.first_name,last_name:e.last_name,email:e.email,password:e.password,password_confirm:e.password_confirm});case 3:201===t.sent.status&&e.setState({redirect:!0});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return this.state.redirect?Object(N.jsx)(l.a,{to:"/login"}):Object(N.jsx)("main",{className:"form-signin",children:Object(N.jsxs)("form",{onSubmit:this.submit,children:[Object(N.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Please register"}),Object(N.jsx)("input",{type:"text",className:"form-control",placeholder:"First name",onChange:function(t){return e.first_name=t.target.value}}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{type:"text",className:"form-control",placeholder:"Last name",onChange:function(t){return e.last_name=t.target.value}}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{type:"email",className:"form-control",placeholder:"name@example.com",onChange:function(t){return e.email=t.target.value}}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{type:"password",className:"form-control",placeholder:"Password",onChange:function(t){return e.password=t.target.value}}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{type:"password",className:"form-control",placeholder:"Password confirm",onChange:function(t){return e.password_confirm=t.target.value}}),Object(N.jsx)("br",{}),Object(N.jsx)("button",{className:"w-100 btn btn-lg btn-primary",type:"submit",children:"Submit"}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsxs)(i.b,{to:"/login",children:["I already have an account, ",Object(N.jsx)("b",{children:"login"}),"."]})]})})}}]),n}(c.Component)),B=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),s=Object(d.a)(r,2),i=s[0],o=s[1],m=Object(c.useState)(""),h=Object(d.a)(m,2),x=h[0],p=h[1],f=Object(c.useState)(!1),v=Object(d.a)(f,2),g=v[0],w=v[1];Object(c.useEffect)((function(){Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("permissions");case 2:t=e.sent,n=t.data,a(n);case 5:case"end":return e.stop()}}),e)})))()}),[]);var S=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,O.a.post("create-role",{name:x,permissions:i});case 3:201===e.sent.status&&w(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return g?Object(N.jsx)(l.a,{to:"/roles"}):Object(N.jsx)(y,{children:Object(N.jsxs)("form",{onSubmit:S,children:[Object(N.jsxs)("div",{className:"mb-3 mt-3 row",children:[Object(N.jsx)("label",{className:"col-sm-2 col-form-label",children:"Name"}),Object(N.jsx)("div",{className:"col-sm-10",children:Object(N.jsx)("input",{className:"form-control",onChange:function(e){return p(e.target.value)}})})]}),Object(N.jsxs)("div",{className:"mb-3 row",children:[Object(N.jsx)("label",{className:"col-sm-2 col-form-label",children:"Permissions"}),Object(N.jsx)("div",{className:"col-sm-10",children:n.map((function(e){return Object(N.jsxs)("div",{className:"form-check form-check-inline col-3",children:[Object(N.jsx)("input",{className:"form-check-input",type:"checkbox",value:e.permission_id,onChange:function(){return t=String(e.permission_id),void(i.some((function(e){return e===t}))?o(i.filter((function(e){return e!==t}))):o([].concat(Object(u.a)(i),[t])));var t}}),Object(N.jsx)("label",{className:"form-check-label",children:e.name})]},e.permission_id)}))})]}),Object(N.jsx)("button",{className:"btn btn-outline-secondary",children:"Save"})]})})},H=function(e){var t=Object(c.useState)([]),n=Object(d.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)([]),i=Object(d.a)(s,2),o=i[0],m=i[1],h=Object(c.useState)(""),x=Object(d.a)(h,2),p=x[0],f=x[1],v=Object(c.useState)(!1),g=Object(d.a)(v,2),w=g[0],S=g[1];Object(c.useEffect)((function(){Object(b.a)(j.a.mark((function t(){var n,c,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("permissions");case 2:return n=t.sent,c=n.data,r(c),t.next=7,O.a.get("get-role/".concat(e.match.params.id));case 7:a=t.sent,f(a.data.name),m(a.data.permissions.map((function(e){return String(e.permission_id)})));case 10:case"end":return t.stop()}}),t)})))()}),[e.match.params.id]);var _=function(){var t=Object(b.a)(j.a.mark((function t(n){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c=Number(e.match.params.id),t.next=4,O.a.put("update-role",{role_id:c,name:p,permissions:o});case 4:201===t.sent.status&&S(!0);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return w?Object(N.jsx)(l.a,{to:"/roles"}):Object(N.jsx)(y,{children:Object(N.jsxs)("form",{onSubmit:_,children:[Object(N.jsxs)("div",{className:"mb-3 mt-3 row",children:[Object(N.jsx)("label",{className:"col-sm-2 col-form-label",children:"Name"}),Object(N.jsx)("div",{className:"col-sm-10",children:Object(N.jsx)("input",{className:"form-control",defaultValue:p,onChange:function(e){return f(e.target.value)}})})]}),Object(N.jsxs)("div",{className:"mb-3 row",children:[Object(N.jsx)("label",{className:"col-sm-2 col-form-label",children:"Permissions"}),Object(N.jsx)("div",{className:"col-sm-10",children:a.map((function(e){return Object(N.jsxs)("div",{className:"form-check form-check-inline col-3",children:[Object(N.jsx)("input",{className:"form-check-input",type:"checkbox",value:e.permission_id,checked:o.some((function(t){return String(t)===String(e.permission_id)})),onChange:function(){return t=String(e.permission_id),void(o.some((function(e){return e===t}))?m(o.filter((function(e){return e!==t}))):m([].concat(Object(u.a)(o),[t])));var t}}),Object(N.jsx)("label",{className:"form-check-label",children:e.name})]},e.permission_id)}))})]}),Object(N.jsx)("button",{className:"btn btn-outline-secondary",children:"Save"})]})})},J=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("roles");case 2:t=e.sent,n=t.data,a(n);case 5:case"end":return e.stop()}}),e)})))()}),[]);var r=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("You want to delete this record?")){e.next=4;break}return e.next=3,O.a.delete("delete-role/".concat(t));case 3:a(n.filter((function(e){return e.role_id!==t})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(y,{children:[Object(N.jsx)("div",{className:"pt-3 pb-2 mb-3 border-bottom",children:Object(N.jsx)(i.b,{to:"/roles/create",className:"btn btn-sm btn-outline-secondary",children:"Create"})}),Object(N.jsx)("div",{className:"table-responsive",children:Object(N.jsxs)("table",{className:"table table-striped table-sm",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"#"}),Object(N.jsx)("th",{children:"Name"}),Object(N.jsx)("th",{children:"Action"})]})}),Object(N.jsx)("tbody",{children:n.map((function(e){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:e.role_id}),Object(N.jsx)("td",{children:e.name}),Object(N.jsxs)("td",{children:[Object(N.jsx)("div",{className:"btn-group mr-2",children:Object(N.jsx)(i.b,{to:"/roles/".concat(e.role_id,"/edit"),className:"btn btn-sm btn-outline-secondary",children:"Edit"})}),"\xa0",Object(N.jsx)("div",{className:"btn-group mr-2",children:Object(N.jsx)("a",{href:"#",className:"btn btn-sm btn-outline-secondary",onClick:function(){return r(e.role_id)},children:"Delete"})})]})]},e.role_id)}))})]})})]})},M=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(d.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)(""),m=Object(d.a)(u,2),h=m[0],x=m[1],p=Object(c.useState)(""),f=Object(d.a)(p,2),v=f[0],g=f[1],w=Object(c.useState)(0),S=Object(d.a)(w,2),_=S[0],k=S[1],C=Object(c.useState)([]),E=Object(d.a)(C,2),P=E[0],D=E[1],F=Object(c.useState)(!1),V=Object(d.a)(F,2),U=V[0],L=V[1];Object(c.useEffect)((function(){Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("roles");case 2:t=e.sent,n=t.data,D(n);case 5:case"end":return e.stop()}}),e)})))()}),[]);var R=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==_){e.next=5;break}alert("Select a role for user"),e.next=9;break;case 5:return e.next=7,O.a.post("create-user",{first_name:n,last_name:i,email:h,password:v,role_id:_});case 7:201===e.sent.status&&L(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return U?Object(N.jsx)(l.a,{to:"/users"}):Object(N.jsx)(y,{children:Object(N.jsxs)("form",{onSubmit:R,children:[Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"First Name"}),Object(N.jsx)("input",{className:"form-control",onChange:function(e){return a(e.target.value)}})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Last Name"}),Object(N.jsx)("input",{className:"form-control",onChange:function(e){return o(e.target.value)}})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Email"}),Object(N.jsx)("input",{type:"email",className:"form-control",onChange:function(e){return x(e.target.value)}})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Password"}),Object(N.jsx)("input",{type:"password",className:"form-control",onChange:function(e){return g(e.target.value)}})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Role"}),Object(N.jsxs)("select",{className:"form-control",onChange:function(e){return k(Number(e.target.value))},children:[Object(N.jsx)("option",{value:0,children:"Select role"},0),P.map((function(e){return Object(N.jsx)("option",{value:e.role_id,children:e.name},e.role_id)}))]})]}),Object(N.jsx)("button",{className:"btn btn-outline-secondary",children:"Save"})]})})},q=function(e){var t=Object(c.useState)(""),n=Object(d.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),i=Object(d.a)(s,2),o=i[0],u=i[1],m=Object(c.useState)(""),h=Object(d.a)(m,2),x=h[0],p=h[1],f=Object(c.useState)(""),v=Object(d.a)(f,2),g=v[0],w=v[1],S=Object(c.useState)(0),_=Object(d.a)(S,2),k=_[0],C=_[1],E=Object(c.useState)([]),P=Object(d.a)(E,2),D=P[0],F=P[1],V=Object(c.useState)(!1),U=Object(d.a)(V,2),L=U[0],R=U[1];Object(c.useEffect)((function(){Object(b.a)(j.a.mark((function t(){var n,c,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("roles");case 2:return n=t.sent,c=n.data,F(c),t.next=7,O.a.get("get-user/".concat(e.match.params.id));case 7:a=t.sent,r(a.data.first_name),u(a.data.last_name),p(a.data.email),C(Number(a.data.role.role_id));case 12:case"end":return t.stop()}}),t)})))()}),[e.match.params.id]);var T=function(){var t=Object(b.a)(j.a.mark((function t(n){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),0!==k){t.next=5;break}alert("Select a role for user"),t.next=10;break;case 5:return c=Number(e.match.params.id),t.next=8,O.a.put("update-user",{user_id:c,first_name:a,last_name:o,email:x,password:g,role_id:k});case 8:201===t.sent.status&&R(!0);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return L?Object(N.jsx)(l.a,{to:"/users"}):Object(N.jsx)(y,{children:Object(N.jsxs)("form",{onSubmit:T,children:[Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"First Name"}),Object(N.jsx)("input",{className:"form-control",defaultValue:a,onChange:function(e){return r(e.target.value)}})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Last Name"}),Object(N.jsx)("input",{className:"form-control",defaultValue:o,onChange:function(e){return u(e.target.value)}})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Email"}),Object(N.jsx)("input",{type:"email",className:"form-control",defaultValue:x,onChange:function(e){return p(e.target.value)}})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Password"}),Object(N.jsx)("input",{type:"password",className:"form-control",onChange:function(e){return w(e.target.value)}})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{children:"Role"}),Object(N.jsxs)("select",{className:"form-control",value:k,onChange:function(e){return C(Number(e.target.value))},children:[Object(N.jsx)("option",{value:0,children:"Select role"},0),D.map((function(e){return Object(N.jsx)("option",{value:e.role_id,children:e.name},e.role_id)}))]})]}),Object(N.jsx)("button",{className:"btn btn-outline-secondary",children:"Save"})]})})},Q=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(1),s=Object(d.a)(r,2),l=s[0],o=s[1],u=Object(c.useState)(0),m=Object(d.a)(u,2),h=m[0],x=m[1];Object(c.useEffect)((function(){Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("users?page=".concat(l));case 2:t=e.sent,n=t.data,a(n.data),x(n.meta.last_page);case 6:case"end":return e.stop()}}),e)})))()}),[l]);var p=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("You want to delete this record?")){e.next=4;break}return e.next=3,O.a.delete("delete-user/".concat(t));case 3:a(n.filter((function(e){return e.user_id!==t})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(y,{children:[Object(N.jsx)("div",{className:"pt-3 pb-2 mb-3 border-bottom",children:Object(N.jsx)(i.b,{to:"/users/create",className:"btn btn-sm btn-outline-secondary",children:"Create"})}),Object(N.jsx)("div",{className:"table-responsive",children:Object(N.jsxs)("table",{className:"table table-striped table-sm",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"#"}),Object(N.jsx)("th",{children:"Name"}),Object(N.jsx)("th",{children:"Email"}),Object(N.jsx)("th",{children:"Role"}),Object(N.jsx)("th",{children:"Action"})]})}),Object(N.jsx)("tbody",{children:n.map((function(e){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:e.user_id}),Object(N.jsxs)("td",{children:[e.first_name," ",e.last_name]}),Object(N.jsx)("td",{children:e.email}),Object(N.jsx)("td",{children:e.role.name}),Object(N.jsxs)("td",{children:[Object(N.jsx)("div",{className:"btn-group mr-2",children:Object(N.jsx)(i.b,{to:"/users/".concat(e.user_id,"/edit"),className:"btn btn-sm btn-outline-secondary",children:"Edit"})}),"\xa0",Object(N.jsx)("div",{className:"btn-group mr-2",children:Object(N.jsx)("a",{href:"#",className:"btn btn-sm btn-outline-secondary",onClick:function(){return p(e.user_id)},children:"Delete"})})]})]},e.user_id)}))})]})}),Object(N.jsx)(E,{page:l,lastPage:h,pageChanged:o})]})};var z=function(){return Object(N.jsx)("div",{className:"App",children:Object(N.jsxs)(i.a,{children:[Object(N.jsx)(l.b,{path:"/",exact:!0,component:k}),Object(N.jsx)(l.b,{path:"/register",component:Y}),Object(N.jsx)(l.b,{path:"/login",component:C}),Object(N.jsx)(l.b,{path:"/profile",exact:!0,component:T}),Object(N.jsx)(l.b,{path:"/users",exact:!0,component:Q}),Object(N.jsx)(l.b,{path:"/users/create",exact:!0,component:M}),Object(N.jsx)(l.b,{path:"/users/:id/edit",component:q}),Object(N.jsx)(l.b,{path:"/roles",exact:!0,component:J}),Object(N.jsx)(l.b,{path:"/roles/create",exact:!0,component:B}),Object(N.jsx)(l.b,{path:"/roles/:id/edit",component:H}),Object(N.jsx)(l.b,{path:"/products",exact:!0,component:R}),Object(N.jsx)(l.b,{path:"/products/create",exact:!0,component:U}),Object(N.jsx)(l.b,{path:"/products/:id/edit",component:L}),Object(N.jsx)(l.b,{path:"/orders",exact:!0,component:F})]})})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},K=n(39),W=n(28),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:new v},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(W.a)(Object(W.a)({},e),{},{user:t.user});default:return e}};O.a.defaults.baseURL="http://localhost:3000/api/",O.a.defaults.withCredentials=!0;var Z=Object(K.a)(X);s.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(h.a,{store:Z,children:Object(N.jsx)(z,{})})}),document.getElementById("root")),G()}},[[75,1,2]]]);
//# sourceMappingURL=main.5cff119a.chunk.js.map